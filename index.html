<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #ffebf0;
            color: #d63384;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #d63384;
            color: white;
            padding: 20px;
        }

        #countdown {
            font-size: 24px;
            font-weight: bold;
        }

        .gallery-container {
            position: relative;
            width: 700px;
            height: 500px;
            margin: 0 auto;
        }

        .gallery-container img {
            position: absolute;
            overflow-y: auto;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            transition: opacity 0.5s ease;
        }

        .gallery-container img:not(:first-child) {
            opacity: 0;
        }

        #message,
        #playlist,
        #quiz {
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            width: 80%;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
        }

        button {
            background-color: #d63384;
            color: white;
            border: none;
            padding: 10px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }

        button:hover {
            background-color: #b52d6f;
        }


        @import url("https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap");

        :root {
            --envelope-x: 300px;
            --envelope-y: 200px;
            --envelope-bg: Moccasin;
            --envelope-shadow: Peru;
            --letter-x: 250px;
            --letter-y: calc(250px - 1rem - 10px);
            --letter-bg: AntiqueWhite;
            --letter-shadow: BurlyWood;
            --letter-text: #180d07;
            --letter-font: "Dancing Script", serif;
            --letter-button-text: darkred;
            --heart-bg: darkred;
            --heart-text: white;
        }

        @media (min-width: 650px) {
            :root {
                --envelope-x: 600px;
                --envelope-y: 400px;
                --letter-x: 500px;
                --letter-y: calc(400px - 1rem - 10px);
            }
        }

        html {
            font-size: 20px;
        }

        body {
            background-color: darkred;
        }

        .cssletter {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            -webkit-user-select: none;
            margin: 24dvh 0;
        }

        .envelope {
            position: relative;
            width: var(--envelope-x);
            height: var(--envelope-y);
            background: var(--envelope-bg);
            box-shadow: inset 0 0 30px -5px var(--envelope-shadow), 0 0 50vw 0 #540000;
        }

        .envelope::before {
            content: "Àö ö‚ù§Ô∏é…ûÀö";
            font-size: 5rem;
            color: white;
            position: absolute;
            left: 50%;
            top: 30%;
            transform: translate(-50%, -50%);
            mix-blend-mode: soft-light;
        }

        .envelope-flap {
            width: 100%;
            height: 71%;
            position: absolute;
            top: 0;
            z-index: 3;
            overflow: hidden;
            transition: 0.6s linear all;
            transform-origin: top;
            pointer-events: all;
        }

        .envelope-folds {
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 2;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        .envelope-flap::before,
        .envelope-left::before,
        .envelope-right::before,
        .envelope-bottom::before {
            content: "";
            transform: rotate(45deg);
            background: var(--envelope-bg);
            box-shadow: 0 0 30px -5px var(--envelope-shadow);
            width: 100%;
            aspect-ratio: 1;
            display: block;
            position: absolute;
            top: 60%;
        }

        .envelope-flap::before {
            border-radius: 5rem;
            bottom: 30px;
            border-radius: 5rem;
            top: auto;
        }

        @media (min-width: 650px) {
            .envelope-flap::before {
                bottom: 100px;
            }
        }

        .envelope-left::before {
            top: 10%;
            left: -65%;
        }

        .envelope-right::before {
            top: 10%;
            right: -65%;
        }

        .envelope-bottom::before {
            top: 60%;
            border-radius: 5rem;
        }

        .heart {
            z-index: 4;
            position: relative;
            box-shadow: none;
            border: none;
            width: 70px;
            aspect-ratio: 1;
            background: radial-gradient(circle at 60% 65%, var(--heart-bg) 64%, #0000 65%) top left/50% 50%,
                radial-gradient(circle at 40% 65%, var(--heart-bg) 64%, #0000 65%) top right/50% 50%,
                conic-gradient(from -45deg at 50% 85.5%, var(--heart-bg) 90deg, #0000 0) bottom/100% 50%;
            background-repeat: no-repeat;
            left: 50%;
            top: 70%;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }

        @media (min-width: 650px) {
            .heart {
                width: 150px;
            }
        }

        .heart::before {
            content: "";
            display: block;
            position: absolute;
            width: 70px;
            aspect-ratio: 1;
            background: radial-gradient(circle at 60% 65%, #ffffff26 64%, #0000 65%) top left/50% 50%,
                radial-gradient(circle at 40% 65%, #ffffff26 64%, #0000 65%) top right/50% 50%,
                conic-gradient(from -45deg at 50% 85.5%, #ffffff26 90deg, #0000 0) bottom/100% 50%;
            background-repeat: no-repeat;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: 0.3s ease all;
            z-index: -1;
        }

        @media (min-width: 650px) {
            .heart::before {
                width: 150px;
            }
        }

        .heart:hover,
        .heart:active,
        .heart:focus {
            transform: translate(-50%, -50%);
            background-color: transparent;
            color: var(--heart-text);
        }

        .heart:hover::before,
        .heart:active::before,
        .heart:focus::before {
            transform: translate(-50%, -50%) scale(0.8);
        }

        .heart-text {
            transform: translateY(-10px);
            display: block;
            color: var(--heart-text);
            font-size: 1.5rem;
            font-family: var(--letter-font);
        }

        .envelope.active * {
            pointer-events: none;
        }

        .envelope.active .envelope-flap {
            transform: rotateX(-180deg) translateY(0);
            perspective: 10px;
        }

        .envelope.active .envelope-flap::before {
            box-shadow: inset 0 0 30px -5px var(--envelope-shadow);
        }

        .envelope.active .heart {
            display: none;
        }

        .letter {
            box-sizing: border-box;
            font-family: var(--letter-font);
            font-size: 1rem;
            line-height: 1.1;
            background-color: var(--letter-bg);
            color: var(--letter-text);
            width: var(--letter-x);
            height: var(--letter-y);
            user-select: none;
            box-shadow: inset 0 0 20px -5px var(--letter-shadow);
            padding: 3rem 1rem 1rem;
            margin: 0;
            cursor: grab;
            position: absolute;
            top: 1rem;
            overflow: auto;
            text-align: center;
            border: 0;
        }

        .letter:active {
            cursor: grabbing;
        }

        .letter.center {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .letter cite {
            font-size: 1.25rem;
            color: var(--letter-text);
            margin-top: 1rem;
        }

        .letter cite::before {
            content: none;
        }

        .letter:nth-child(even) {
            transform: skew(-2deg) translateY(-4px);
        }

        .letter:nth-child(odd) {
            transform: skew(2deg) translateY(4px);
        }

        @media (min-width: 650px) {
            .letter {
                font-size: 1.3rem;
            }
        }

        .closeLetter {
            font-size: 0 !important;
            position: absolute;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            background: none;
            box-shadow: none;
            padding: 0;
            border: 0;
        }

        .closeLetter::before {
            content: "Àö ö‚ù§Ô∏é…ûÀö";
            font-size: 1.5rem !important;
            font-family: var(--letter-font);
            color: var(--letter-button-text);
            text-align: center;
        }

        .closeLetter:hover,
        .closeLetter:active,
        .closeLetter:focus {
            background-color: transparent;
            color: var(--letter-text);
            transform: translateX(-50%);
            padding: 0;
            margin: 0;
        }

        .closeLetter:hover::before,
        .closeLetter:active::before,
        .closeLetter:focus::before {
            content: "xXx";
        }

        /* Attribution */
        @import url("https://frills.dev/css/abstracts/_variables.css");
        @import url("https://frills.dev/css/components/_logo.css");

        :root {
            --bodybg: darkred;
        }

        footer {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            z-index: 10000000;
        }

        footer svg {
            width: 100px;
        }

        /* Media Query for responsiveness */
        @media (max-width: 768px) {
            header {
                font-size: 1.2rem;
                padding: 10px;
            }

            #countdown {
                font-size: 1rem;
            }

            .gallery-container {
                width: 95%;
            }

            .gallery-container img {
                max-width: 100%;
                height: auto;
            }

            button {
                padding: 8px 12px;
                font-size: 0.9rem;
            }

            .cssletter {
                width: 90%;
            }

            .letter {
                font-size: 1rem;
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            header {
                font-size: 1rem;
                padding: 8px;
            }

            #countdown {
                font-size: 0.9rem;
            }

            .gallery-container {
                width: 100%;
            }

            .gallery-container img {
                border-radius: 5px;
            }

            button {
                padding: 6px 10px;
                font-size: 0.8rem;
            }

            .cssletter {
                width: 95%;
            }

            .letter {
                font-size: 0.9rem;
                padding: 1rem;
            }
        }

        /* Responsive Design for the Letter */
        /* Base styles for larger screens */
        .cssletter {
            width: 60%;
            max-width: 600px;
            height: auto;
            padding: 20px;
            margin: auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background: white;
            text-align: left;
        }

        /* Responsive adjustments for tablets */
        @media (max-width: 768px) {
            .cssletter {
                width: 80%;
                max-width: 90%;
                padding: 15px;
            }

            .letter {
                font-size: 1rem;
                padding: 10px;
                line-height: 1.5;
                word-wrap: break-word;
            }
        }

        /* Responsive adjustments for mobile screens */
        @media (max-width: 480px) {
            .cssletter {
                width: 95%;
                max-width: 100%;
                padding: 10px;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }

            .letter {
                font-size: 0.9rem;
                padding: 8px;
                line-height: 1.4;
                text-align: justify;
                word-wrap: break-word;
            }
        }

        .cssletter {
            margin-top: 80px;
            margin-bottom: 80px;
        }
    </style>
</head>

<body>
    <header>
        <h1>Happy Birthday, Jeiskaaaa üéâüíï</h1>
        <div id="countdown"></div>
    </header>

    <section id="gallery">
        <h2>Our Beautiful Memories üì∏(ik thode hi hai)</h2>
        <div class="gallery-container" onclick="nextImage()">
            <img src="images/img1.jpg" alt="Memory 1">
            <img src="images/img2.jpg" alt="Memory 2">
            <img src="images/img3.jpg" alt="Memory 3">
            <img src="images/img4.jpg" alt="Memory 3" style="object-position: top;">
            <img src="images/img5.jpg" alt="Memory 3">
            <img src="images/img6.jpg" alt="Memory 3">
            <img src="images/img7.jpg" alt="Memory 3" style="object-fit: contain;">
            <img src="images/img8.jpg" alt="Memory 3" style="object-position: middle; object-fit: cover;">
        </div>
    </section>


    <section class="cssletter">
        <div class="envelope">
            <button class="heart" id="openEnvelope" aria-label="Open Envelope">
                <span class="heart-text">Open</span>
            </button>
            <div class="envelope-flap"></div>
            <div class="envelope-folds">
                <div class="envelope-left"></div>
                <div class="envelope-right"></div>
                <div class="envelope-bottom"></div>
            </div>
        </div>
        <div class="letters">

            <blockquote class="letter center" id="1" tabindex="0" style="left: 390px;">
                <button class="closeLetter" title="Close Amelia's letter">Close Amelia's letter</button>
                <p>
                    And jo chize jo maine aaj kahi...idk that 4th Jan actually held a potential or if it's love, I just
                    know ki I'm happy rn with the bond we share, please don't change it, don't make me regret confessing
                    it to you.
                    Happy Birthday once again, Jess. Lob you. ü§çüí´

                </p>

            </blockquote>

            <blockquote class="letter center" id="2" tabindex="0" style="left: 390px;">
                <button class="closeLetter" title="Close Oliver's letter">Close Oliver's letter</button>
                <p>I want to meet you again, just to spend time with you. I can't wait to see that beautiful smile of
                    yours, and trust me, this year's going to be even more amazing for you. Tu jo bhi chahti h, woh
                    achieve karegi, aur main hamesha yahin hu, tera biggest cheerleader.

                </p>

            </blockquote>

            <blockquote class="letter center" id="3" tabindex="0" style="left: 390px;">
                <button class="closeLetter" title="Close Isabella's letter">Close Isabella's letter</button>
                <p>Last time milne ke moments yaad aate h, aur jo connection humne share kiya h... it just feels right.
                    Jo humare beech mein h, woh kisi se explain nahi ho sakta. And tbh, main bahut lucky feel karta hu
                    to have you by my side, not just as a best friend but as someone jo meri life mein ek bohot special
                    place hold karti h.
                </p>

            </blockquote>

            <blockquote class="letter center" id="4" tabindex="0" style="left: 390px;">
                <button class="closeLetter" title="Close William's letter">Close William's letter</button>
                <p>Aur sach mein, tu kitni amazing h, shayad tujhe khud bhi kabhi kabhi pata nahi hota. Tera smile, teri
                    baatein, teri vibe, sab kuch. You've got that charm jo bas tu mein hi h, and I'm so glad I get to
                    have you in my life.
                </p>

            </blockquote>

            <blockquote class="letter center" id="5" tabindex="0" style="left: 390px;">
                <button class="closeLetter" title="Close Charlotte's letter">Close Charlotte's letter</button>
                <p>Hey Jess, Happy Birthday! ü•≥üéâ
                    Aaj ka din tera h, and I just want to remind you how much you mean to me. Tu meri life ka vo part h
                    jo sab kuch thoda better, thoda brighter aur thoda more fun banata h. Hum jitne bhi crazy moments
                    share karein, chahe woh humari deep baatein ho ya sirf chill karna ho, har moment special hota h
                    because it's with you.

                </p>

            </blockquote>


        </div>
    </section>



    <section id="playlist">
        <h1>Pyare Pyare Songs </h1>
        <iframe style="border-radius:12px"
            src="https://open.spotify.com/embed/track/6J4oLY2GEwOsUgEd50IpKy?utm_source=generator" width="40%"
            height="352" frameBorder="0" allowfullscreen=""
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>

        <iframe style="border-radius:12px"
            src="https://open.spotify.com/embed/track/22kRCQPyNXWZSQEcDvCmGD?utm_source=generator" width="40%"
            height="352" frameBorder="0" allowfullscreen=""
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>

        <iframe style="border-radius:12px"
            src="https://open.spotify.com/embed/track/5O2P9iiztwhomNh8xkR9lJ?utm_source=generator" width="40%"
            height="352" frameBorder="0" allowfullscreen=""
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    </section>







    <script>
        let currentImageIndex = 0;
        function nextImage() {
            const images = document.querySelectorAll('.gallery-container img');
            images[currentImageIndex].style.opacity = 0;
            currentImageIndex = (currentImageIndex + 1) % images.length;
            images[currentImageIndex].style.opacity = 1;
        }




        const letters = document.querySelectorAll(".letter");
        const lettersContainer = document.querySelector(".letters");
        let zIndexCounter = 10;

        // const shuffleArray = (array) => {
        //     for (let i = array.length - 1; i > 0; i--) {
        //         const j = Math.floor(Math.random() * (i + 1));
        //         [array[i], array[j]] = [array[j], array[i]];
        //     }
        // };

        const shuffledThings = Array.from(letters);
        // shuffleArray(shuffledThings);

        shuffledThings.forEach((letter) => {
            lettersContainer.appendChild(letter);
            const center = document.querySelector(".cssletter").offsetWidth / 2 - letter.offsetWidth / 2;
            letter.style.left = `${center}px`;

            function isOverflown(element) {
                return element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth;
            }

            if (!isOverflown(letter)) {
                letter.classList.add("center");
            }
            let offsetX, offsetY;
            letter.addEventListener("mousedown", (e) => {
                if (e.target.tagName !== "BUTTON") {
                    const rect = e.target.getBoundingClientRect();

                    letter.style.position = "fixed";
                    letter.style.left = `${rect.left}px`;
                    letter.style.top = `${rect.top}px`;

                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;

                    letter.style.zIndex = zIndexCounter++;
                    const moveAt = (posX, posY) => {
                        letter.style.left = `${posX - offsetX}px`;
                        letter.style.top = `${posY - offsetY}px`;
                    };
                    const onMouseMove = (moveEvent) => moveAt(moveEvent.clientX, moveEvent.clientY);
                    const onMouseUp = () => {
                        document.removeEventListener("mousemove", onMouseMove);
                        document.removeEventListener("mouseup", onMouseUp);
                    };
                    document.addEventListener("mousemove", onMouseMove);
                    document.addEventListener("mouseup", onMouseUp);
                }
            });
        });
        document.querySelector("#openEnvelope").addEventListener("click", () => {
            document.querySelector(".envelope").classList.add("active");
        });
        const closeButtons = document.querySelectorAll(".closeLetter");
        closeButtons.forEach((button) => {
            button.addEventListener("click", (e) => {
                e.preventDefault();
                const letter = e.target.closest(".letter");
                if (letter) {
                    letter.style.display = "none";
                }
            });
        });
    </script>
</body>

</html>